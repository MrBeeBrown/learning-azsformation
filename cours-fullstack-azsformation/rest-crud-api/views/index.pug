doctype
html(lang='fr')
    head
        // on inclus bootstrap
        link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css", integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3", crossorigin="anonymous")
        meta(charset='utf-8')
        title Utilisateurs
    body.container(style="margin-top: 50px")
        if messages.success 
            .alert.alert-success(role="alert") #{messages.success}
        if messages.error
            .alert.alert-danger(role="alert") #{messages.error}

        .card 
            .card-header 
                ul.nav.nav-pills.w-100 
                    li.nav-pill.active 
                        a.nav-link Utilisateurs
                    li.nav-pill.ml-auto 
                        a.nav-link.active(href="/add") Ajouter
            .card-body 
                if data.length
                    table.table 
                        thead 
                            tr
                                th(scope="col") #
                                th(scope="col") Username
                                th(scope="col") Email
                                th(width="200px") Action 
                        tbody
                            each val, index in data 
                                tr 
                                    td(scope="row")= index + 1
                                    td #{data[index].username}
                                    td #{data[index].email}
                                    td 
                                        a.btn.btn-success.edit(href=`../edit/${data[index].id}`) Edit
                                        a.btn.btn-danger.delete(href=`../delete/${data[index].id}`, onclick=`return alert("Confirmer la suppression ?")`) Delete
                else 
                    p.text-center Aucun utilisateur enregistr√©
        // scripts bootstrap
        script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js", integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13", crossorigin="anonymous")
        script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js", integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p", crossorigin="anonymous")